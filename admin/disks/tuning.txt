#-----------------------------------------------------------------------------------------
После создания раздела poligon в группе томов vg2 и монтирования его к точке /mnt/poligon
нет доступа на запись в этом разделе
#-----------------------------------------------------------------------------------------


Если вы видите файловую систему /mnt/poligon,
но не можете войти в нее, возможно,
есть проблема с правами доступа к этой директории.

Попробуйте выполнить следующие шаги:

1 Проверьте текущие права доступа к директории /mnt/poligon:

ls -ld /mnt/poligon


Вывод должен быть примерно таким:

drwxr-xr-x 3 root root 4096 May 25 12:34 /mnt/poligon


Здесь root root означает, что владельцем директории является пользователь root,
а группа также root.

Если вы не являетесь пользователем root,
то у вас могут быть недостаточные права для доступа к этой директории.

2 Вы можете временно получить права суперпользователя с помощью команды sudo:

sudo su


3 Теперь, когда вы являетесь суперпользователем, попробуйте войти в директорию /mnt/poligon:

cd /mnt/poligon

Если это работает, значит, проблема была в правах доступа.


4 Чтобы предоставить доступ к этой директории для вашего обычного пользователя,
  вы можете изменить права доступа:

sudo chmod 755 /mnt/poligon

Эта команда установит права rwxr-xr-x 
(чтение, запись и выполнение для владельца, чтение и выполнение для группы и других пользователей).

Теперь вы должны иметь возможность войти в директорию /mnt/poligon от имени вашего обычного пользователя.

4 Если проблема сохраняется, попробуйте перемонтировать файловую систему вручную:

sudo mount -a

Эта команда монтирует все файловые системы, указанные в /etc/fstab.

Если и после этого проблема не решается,
возможно, есть какие-то другие проблемы с файловой системой или точкой монтирования.
В этом случае вам может потребоваться дополнительная диагностика и устранение неполадок.


Согласно выводу команды ls -ld /mnt/poligon:

drwxr-xr-x 3 root root 4096 июл  3 18:02 /mnt/poligon


Права доступа к директории /mnt/poligon выглядят следующим образом:

d - Это директория.
rwx - Права для владельца (root): чтение, запись и выполнение.
r-x - Права для группы (root): чтение и выполнение.
r-x - Права для остальных пользователей: чтение и выполнение.
Таким образом, у вашего обычного пользователя (не root) есть права только на чтение и выполнение в этой директории, но нет прав на запись.


5 Чтобы предоставить вашему пользователю полный доступ к этой директории,
  вы можете изменить права доступа следующим образом:

sudo chmod 755 /mnt/poligon


Эта команда установит права rwxr-xr-x
(чтение, запись и выполнение для владельца, чтение и выполнение для группы и других пользователей).

5.1 Или, если вы хотите, чтобы только ваш пользователь имел полный доступ,
    а остальные пользователи имели только права на чтение и выполнение, вы можете использовать:

sudo chmod 750 /mnt/poligon


Эта команда установит права rwxr-x--- 
(чтение, запись и выполнение для владельца, чтение и выполнение для группы, никаких прав для остальных пользователей).

После изменения прав доступа вы должны иметь возможность получить
полный доступ к директории /mnt/poligon от имени вашего обычного пользователя.



sudo chmod 755 /mnt/poligon я сделал но не получил возможности создать в poligon папку или файл

Если после выполнения команды sudo chmod 755 /mnt/poligon вы все равно не можете
создавать файлы или директории в /mnt/poligon от имени вашего обычного пользователя,
возможно, причина в том, что файловая система смонтирована в режиме только для чтения.

6 Проверьте, как смонтирована файловая система, выполнив команду:

mount | grep "/mnt/poligon"


Если в выводе вы увидите что-то вроде:

/dev/mapper/vg2-poligon on /mnt/poligon type ext4 (ro,relatime)


Это означает, что файловая система смонтирована в режиме только для чтения (ro - read-only).

Чтобы исправить это, вам нужно временно размонтировать файловую систему, а затем смонтировать ее в режиме чтения/записи:


7 Размонтируйте файловую систему:

sudo umount /mnt/poligon


8 Смонтируйте файловую систему в режиме чтения/записи:

sudo mount -o rw /dev/mapper/vg2-poligon /mnt/poligon


Здесь -o rw указывает, что файловая система должна быть смонтирована в режиме чтения/записи.

Проверьте, что файловая система смонтирована правильно:

mount | grep "/mnt/poligon"


Вывод должен быть примерно таким:

/dev/mapper/vg2-poligon on /mnt/poligon type ext4 (rw,relatime)


Теперь вы должны иметь возможность создавать файлы и директории в /mnt/poligon
от имени вашего обычного пользователя.

9 Если проблема сохраняется, попробуйте перезагрузить систему,
а затем проверить монтирование файловой системы снова.

Также убедитесь, что в файле /etc/fstab для этой файловой системы не указана опция ro (read-only).
Если она есть, удалите ее и перемонтируйте файловую систему.


Отлично, согласно выводу команды:

/dev/mapper/vg2-poligon on /mnt/poligon type ext4 (rw,relatime)


Файловая система /dev/mapper/vg2-poligon смонтирована в директорию /mnt/poligon с опцией rw,
что означает "read-write" (чтение/запись).

Опция relatime относится к обновлению времени доступа к файлам
и не влияет на возможность записи в файловую систему.

Таким образом, файловая система /mnt/poligon смонтирована в режиме чтения/записи,
и вы должны иметь возможность создавать файлы и директории
в этой точке монтирования от имени вашего обычного пользователя.

Попробуйте создать тестовый файл или директорию в /mnt/poligon, например:

touch /mnt/poligon/test_file
mkdir /mnt/poligon/test_dir


Если эти команды выполняются без ошибок, значит, вы имеете полный доступ на запись в эту файловую систему.

10 Если же вы все равно получаете ошибки при попытке создать файлы или директории,
   проверьте права доступа к самой точке монтирования /mnt/poligon:

ls -ld /mnt/poligon


Убедитесь, что у вашего пользователя есть права на запись в эту директорию.
В противном случае, вы можете изменить права доступа с помощью команды chmod.

Если проблема сохраняется, возможно, есть какие-то другие проблемы с файловой системой
или точкой монтирования, и вам может потребоваться дополнительная диагностика и устранение неполадок.



$ touch /mnt/poligon/test_file
touch: невозможно выполнить touch для '/mnt/poligon/test_file': Отказано в доступе


Ситуация прояснилась. Хотя файловая система /mnt/poligon смонтирована в режиме чтения/записи,
у вашего пользователя все равно нет прав на запись в эту директорию.

Когда вы пытаетесь создать файл:

touch /mnt/poligon/test_file

Вы получаете ошибку:

touch: невозможно выполнить touch для '/mnt/poligon/test_file': Отказано в доступе

Это означает, что ваш пользователь не имеет разрешения на создание файлов в директории /mnt/poligon.


11 Чтобы решить эту проблему, вам нужно изменить права доступа к самой директории /mnt/poligon.
   Вы можете сделать это следующим образом:

   Получите права суперпользователя (root):

sudo su

   Измените права доступа к директории /mnt/poligon, чтобы ваш пользователь имел права на запись:

chmod 775 /mnt/poligon

Эта команда установит права rwxrwxr-x
(чтение, запись и выполнение для владельца и группы, только чтение и выполнение для остальных).

   Выйдите из сеанса суперпользователя:

exit



Теперь, от имени вашего обычного пользователя, вы должны иметь возможность создавать файлы и директории в /mnt/poligon.
Попробуйте снова создать тестовый файл:

touch /mnt/poligon/test_file



На этот раз команда должна выполниться без ошибок.

Если проблема сохраняется, возможно, есть какие-то другие проблемы с правами доступа или файловой системой, и вам может потребоваться дополнительная диагностика и устранение неполадок.

$ touch /mnt/poligon/test_file

touch: невозможно выполнить touch для '/mnt/poligon/test_file': Отказано в доступе

12 Похоже, у вас возникла достаточно сложная проблема с правами доступа к директории /mnt/poligon.
   Даже после изменения прав на 775 
   (чтение, запись и выполнение для владельца и группы, только чтение и выполнение для остальных),
   ваш пользователь все равно не может создавать файлы в этой директории.


Давайте попробуем другой подход:

Получите права суперпользователя (root):

sudo su

Измените владельца и группу директории /mnt/poligon на вашего пользователя:

chown ваш_пользователь:ваша_группа /mnt/poligon


Замените ваш_пользователь и ваша_группа на соответствующие имена вашего пользователя и группы.

Установите права доступа 755 (чтение, запись и выполнение для владельца,
только чтение и выполнение для группы и остальных):

chmod 755 /mnt/poligon

Выйдите из сеанса суперпользователя:

exit



Теперь, от имени вашего обычного пользователя, попробуйте снова создать тестовый файл:

touch /mnt/poligon/test_file

Эта команда должна выполниться без ошибок, так как теперь ваш пользователь 
является владельцем директории /mnt/poligon и имеет полные права на запись в нее.

Если проблема все еще сохраняется, возможно, есть какие-то другие проблемы с файловой системой
или точкой монтирования, которые требуют дополнительной диагностики и устранения неполадок.

В крайнем случае, вы можете попробовать перемонтировать файловую систему с опцией remount,
чтобы применить новые права доступа:

sudo mount -o remount /mnt/poligon


Если и после этого проблема не решается, возможно,
потребуется более глубокое изучение и устранение неполадок с привлечением дополнительных инструментов и ресурсов.


сейчас у меня   drwxrwxr-x 3 root root 4096 июл  3 18:02 /mnt/poligon

Учитывая, что текущие права доступа к директории /mnt/poligon выглядят следующим образом:

drwxrwxr-x 3 root root 4096 июл  3 18:02 /mnt/poligon


Это означает:

d - Это директория
rwx - Владелец (root) имеет права на чтение, запись и выполнение
rwx - Группа (root) имеет права на чтение, запись и выполнение
r-x - Остальные пользователи имеют права только на чтение и выполнение
Поскольку ваш обычный пользователь не является ни владельцем,
ни членом группы root, у него нет прав на запись в эту директорию.

13 Чтобы предоставить вашему пользователю права на запись в /mnt/poligon,
   вы можете выполнить следующие действия:

Получите права суперпользователя (root):

sudo su

Измените владельца директории /mnt/poligon на вашего пользователя:

chown ваш_пользователь /mnt/poligon

Замените ваш_пользователь на имя вашего пользователя.

Выйдите из сеанса суперпользователя:

exit


Теперь, от имени вашего обычного пользователя, вы должны иметь полные права на чтение,
запись и выполнение в директории /mnt/poligon.

Попробуйте снова создать тестовый файл:

touch /mnt/poligon/test_file   (Ok!)
