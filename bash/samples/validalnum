#!/bin/bash
# validAlphaNum – проверяет, содержит ли строка только
# алфавитные и цифровые символы

validAlphaNum()
{
    # Проверка аргумента: возвращает 0, если все символы в строке являются
    # буквами верхнего/нижнего регистра или цифрами; иначе возвращает 1
    # Удалить все недопустимые символы.

    validchars="$(echo $1 | sed s/[^[:alnum:]]//g)"
    if [ "$validchars" = "$1" ] ; then
        return 0
    else
        return 1
    fi
}

# НАЧАЛО ОСНОВНОГО СЦЕНАРИЯ -- УДАЛИТЕ ИЛИ ЗАКОММЕНТИРУЙТЕ ВСЕ, ЧТО НИЖЕ,
# ЧТОБЫ ЭТОТ СЦЕНАРИЙ МОЖНО БЫЛО ПОДКЛЮЧАТЬ К ДРУГИМ СЦЕНАРИЯМ.
# =======================================================================
/bin/echo "Удаляет все символы, кроме букв и цифр" 
/bin/echo -n "Enter input: "

read input

# Проверка ввода
if ! validAlphaNum "$input" ; then

    echo "Please enter only letters and numbers." >&2
    exit 1
else
    echo "Input is valid."
fi

exit 0

#========================================================================
# Хотите потребовать, чтобы ввод содержал только буквы верхнего регистра,
# пробелы, запятые и точки? Просто измените шаблон подстановки в строке,
# как показано ниже:
sed 's/[^[:upper:] ,.]//g'

# Эту же функцию можно использовать для простейшей проверки телефонных
# номеров (допускается присутствие цифр, пробелов, круглых скобок и дефи-
# сов, но не допускается наличие пробелов в начале или нескольких пробелов,
# идущих подряд), если использовать шаблон:
sed 's/[^- [:digit:]\(\)]//g'
